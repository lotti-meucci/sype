<div class="container p-5">
  <div class="text-center">
    <div
      class="width-max-content mx-auto"
      [class.editable]="isMine"
      (click)="pictureFileInput?.nativeElement?.click()"
      id="profile-picture"
    >
      <app-profile-picture [token]="pictureToken" [nickname]="nickname"></app-profile-picture>
      <i *ngIf="isMine" class="pencil bi bi-pencil-fill"></i>
      <input
        *ngIf="isMine"
        hidden type="file"
        (change)="onPictureSelected()"
        accept="image/*"
        #pictureFileInput
      >
      <canvas *ngIf="isMine" hidden #pictureCanvas></canvas>
    </div>

    <div [class.tip]="showingNicknameError" [attr.data-tip]="nicknameErrorMessage">
      <div class="width-max-content mx-auto mt-3" [class.shake]="shakeNickname">
        <h1
          id="nickname"
          [class.editable]="isMine"
          class="display-5 fw-bold"
        >
          <span
            (blur)="nicknameBlur()"
            (input)="nicknameInput()"
            [contentEditable]="isMine"
            spellcheck="false"
            #nicknameSpan
          >{{nickname}}</span>

          <i *ngIf="isMine" class="pencil bi bi-pencil-fill"></i>
        </h1>
      </div>
    </div>
    <div *ngIf="isMine" class="width-max-content mx-auto">
      <button class="mt-4 btn btn-primary d-block w-100">
        Change password
        <i class="bi bi-key-fill"></i>
      </button>
      <button class="mt-3 btn btn-danger d-block w-100">
        Delete profile
        <i class="bi bi-person-x-fill"></i>
      </button>
      <button class="mt-3 btn btn-secondary d-block w-100">
        Logout
        <i class="bi bi-box-arrow-right"></i>
      </button>
    </div>
  </div>
</div>
